(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1725,e=>{"use strict";let r=(0,e.i(62169).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>r],1725)},29483,e=>{"use strict";let r=(0,e.i(62169).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],29483)},15111,e=>{"use strict";let r=(0,e.i(62169).default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["Minus",()=>r],15111)},19102,e=>{"use strict";var r=e.i(65821),a=e.i(34826),t=e.i(1725),s=e.i(29483),l=e.i(62169);let i=(0,l.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var o=e.i(29497),n=e.i(74410),d=e.i(51999),c=e.i(15111),u=e.i(49731),x=e.i(13216);function m({product:e,onClick:a}){let{cart:t,addToCart:l,increaseQty:i,decreaseQty:o}=(0,x.useCart)(),n=t.find(r=>r.productId===e.id);return(0,r.jsxs)("div",{className:"group animate-scale-in product-card",style:e.style,children:[(0,r.jsxs)("div",{className:"cursor-pointer aspect-[3/4] w-full overflow-hidden rounded-xl bg-[var(--surface-alt)] relative",onClick:()=>a(e),children:[(0,r.jsx)("img",{src:e.images?.[0],alt:e.name,className:"h-full w-full object-cover transition duration-700 group-hover:scale-110"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,r.jsxs)("div",{className:"mt-4 px-2 pb-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsx)("h3",{className:"font-medium text-[var(--foreground)] text-lg leading-tight group-hover:text-[var(--primary)] transition-colors",children:e.name}),(0,r.jsxs)("p",{className:"font-bold text-[var(--primary)] text-lg",children:["₹",e.price]})]}),!n&&(0,r.jsxs)("button",{onClick:()=>l(e),className:"mt-4 w-full btn-primary flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0 transition-all duration-300",children:[(0,r.jsx)(u.ShoppingBag,{size:18}),"Add to Cart"]}),n&&(0,r.jsxs)("div",{className:"mt-4 flex justify-center items-center gap-4 bg-[var(--surface-alt)] py-2 rounded-full border border-[var(--border)]",children:[(0,r.jsx)("button",{onClick:()=>o(e.id),className:"p-1 hover:text-[var(--primary)] transition-colors",children:(0,r.jsx)(c.Minus,{size:18})}),(0,r.jsx)("span",{className:"font-bold text-[var(--foreground)]",children:n.quantity}),(0,r.jsx)("button",{onClick:()=>i(e.id),className:"p-1 hover:text-[var(--primary)] transition-colors",children:(0,r.jsx)(s.Plus,{size:18})})]})]})]})}var p=e.i(15749);let h=(0,l.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),f=(0,l.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function g({product:e,isOpen:t,onClose:l}){let[i,o]=(0,a.useState)(0),{cart:n,addToCart:d,increaseQty:m,decreaseQty:g}=(0,x.useCart)(),v=n.find(r=>r.productId===e?.id);if((0,a.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),(0,a.useEffect)(()=>{e&&o(0)},[e]),!t||!e)return null;let b=e.images?.length>0?e.images:[];return(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md animate-fade-in",onClick:l}),(0,r.jsxs)("div",{className:"relative w-full max-w-5xl rounded-3xl bg-[var(--surface)] shadow-2xl flex flex-col md:flex-row max-h-[90vh] overflow-hidden animate-scale-in",children:[(0,r.jsx)("button",{onClick:l,className:"absolute top-4 right-4 z-10 rounded-full bg-[var(--surface)]/80 p-2 text-gray-500 dark:text-gray-400 hover:text-[var(--foreground)] transition hover:bg-[var(--surface)] shadow-sm",children:(0,r.jsx)(p.X,{size:24})}),(0,r.jsxs)("div",{className:"w-full md:w-1/2 bg-[var(--surface-alt)] flex flex-col relative",children:[(0,r.jsx)("div",{className:"flex-1 overflow-hidden relative group",children:(0,r.jsx)("img",{src:b[i],alt:e.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"})}),b.length>1&&(0,r.jsx)("div",{className:"flex gap-3 p-4 bg-white/50 dark:bg-black/30 absolute bottom-0 w-full overflow-x-auto backdrop-blur-md no-scrollbar",children:b.map((e,a)=>(0,r.jsx)("button",{onClick:()=>o(a),className:`h-16 w-16 overflow-hidden rounded-xl border-2 transition-all ${i===a?"border-[var(--primary)] ring-2 ring-[var(--primary-light)] scale-105":"border-transparent hover:border-gray-300 dark:hover:border-gray-600 opacity-70 hover:opacity-100"}`,children:(0,r.jsx)("img",{src:e,alt:"",className:"w-full h-full object-cover"})},a))})]}),(0,r.jsx)("div",{className:"w-full md:w-1/2 p-8 md:p-10 overflow-y-auto",children:(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm uppercase text-[var(--primary)] tracking-widest font-medium mb-2",children:e.category?.name||"Exclusive"}),(0,r.jsx)("h2",{className:"text-4xl font-serif font-bold text-[var(--foreground)] leading-tight",children:e.name}),(0,r.jsxs)("div",{className:"mt-6 flex items-center gap-6",children:[(0,r.jsxs)("p",{className:"text-3xl font-bold text-[var(--primary)]",children:["₹",e.price.toFixed(2)]}),e.stock>0?(0,r.jsxs)("span",{className:"flex items-center gap-1.5 text-sm font-medium text-green-700 bg-green-100 dark:bg-green-900/30 dark:text-green-400 px-3 py-1.5 rounded-full",children:[(0,r.jsx)(h,{size:16})," In Stock (",e.stock,")"]}):(0,r.jsxs)("span",{className:"flex items-center gap-1.5 text-sm font-medium text-red-700 bg-red-100 dark:bg-red-900/30 dark:text-red-400 px-3 py-1.5 rounded-full",children:[(0,r.jsx)(f,{size:16})," Out of Stock"]})]})]}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-lg font-light",children:e.description}),(0,r.jsxs)("div",{className:"pt-8 border-t border-[var(--border)]",children:[!v&&(0,r.jsxs)("button",{onClick:()=>d(e),disabled:e.stock<=0,className:"w-full btn-primary py-4 text-lg flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsx)(u.ShoppingBag,{size:22}),"Add to Cart"]}),v&&(0,r.jsxs)("div",{className:"flex items-center justify-center gap-8 bg-[var(--surface-alt)] p-4 rounded-2xl border border-[var(--border)]",children:[(0,r.jsx)("button",{onClick:()=>g(e.id),className:"p-3 rounded-xl bg-[var(--surface)] shadow-sm hover:text-[var(--primary)] hover:shadow-md transition-all",children:(0,r.jsx)(c.Minus,{size:24})}),(0,r.jsx)("span",{className:"text-3xl font-bold text-[var(--foreground)]",children:v.quantity}),(0,r.jsx)("button",{onClick:()=>m(e.id),className:"p-3 rounded-xl bg-[var(--surface)] shadow-sm hover:text-[var(--primary)] hover:shadow-md transition-all",children:(0,r.jsx)(s.Plus,{size:24})})]})]}),(0,r.jsxs)("p",{className:"text-center text-sm text-gray-400 flex items-center justify-center gap-2",children:[(0,r.jsx)(h,{size:14,className:"text-[var(--primary)]"})," Free shipping on orders over ₹1000",(0,r.jsx)("span",{className:"w-1 h-1 rounded-full bg-gray-300 dark:bg-gray-600"}),(0,r.jsx)(h,{size:14,className:"text-[var(--primary)]"})," 30-day returns"]})]})})]})]})}let v=(0,l.default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);function b({searchQuery:e,setSearchQuery:a,sortBy:t,setSortBy:s,selectedCategory:l,setSelectedCategory:o,categories:n=[]}){return(0,r.jsx)("div",{className:"sticky top-20 z-30 glass border-b border-[var(--border-glass)] py-4 px-4 sm:px-6 lg:px-8 transition-all",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,r.jsxs)("div",{className:"relative w-full md:w-96 group",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,r.jsx)(i,{size:18,className:"text-gray-400 group-focus-within:text-[var(--primary)] transition-colors"})}),(0,r.jsx)("input",{type:"text",placeholder:"Search for candles, scents...",value:e,onChange:e=>a(e.target.value),className:"block w-full pl-11 pr-4 py-3 border border-[var(--border)] rounded-full leading-5 bg-[var(--surface-alt)] text-[var(--foreground)] placeholder-gray-400 focus:outline-none focus:bg-[var(--surface)] focus:ring-2 focus:ring-[var(--primary-light)] focus:border-[var(--primary)] transition-all shadow-sm"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto overflow-x-auto pb-2 md:pb-0 no-scrollbar",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 pr-4 border-r border-[var(--border)]",children:[(0,r.jsx)("button",{onClick:()=>o("all"),className:`px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${"all"===l?"bg-[var(--foreground)] text-[var(--background)] shadow-md":"bg-[var(--surface)] text-gray-600 dark:text-gray-300 hover:bg-[var(--surface-alt)] border border-[var(--border)] hover:border-[var(--primary-light)]"}`,children:"All Items"}),n.map(e=>(0,r.jsx)("button",{onClick:()=>o(e.id),className:`px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${l===e.id?"bg-[var(--foreground)] text-[var(--background)] shadow-md":"bg-[var(--surface)] text-gray-600 dark:text-gray-300 hover:bg-[var(--surface-alt)] border border-[var(--border)] hover:border-[var(--primary-light)]"}`,children:e.name},e.id))]}),(0,r.jsxs)("div",{className:"relative min-w-[180px]",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(v,{size:16,className:"text-gray-400"})}),(0,r.jsxs)("select",{value:t,onChange:e=>s(e.target.value),className:"block w-full pl-10 pr-8 py-3 text-sm border border-[var(--border)] rounded-full bg-[var(--surface)] text-[var(--foreground)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-light)] focus:border-[var(--primary)] cursor-pointer hover:bg-[var(--surface-alt)] transition-all shadow-sm appearance-none",children:[(0,r.jsx)("option",{value:"newest",children:"Newest Arrivals"}),(0,r.jsx)("option",{value:"price_asc",children:"Price: Low to High"}),(0,r.jsx)("option",{value:"price_desc",children:"Price: High to Low"}),(0,r.jsx)("option",{value:"name_asc",children:"Name: A to Z"})]})]})]})]})})}function y(){let[e,l]=(0,a.useState)([]),[c,u]=(0,a.useState)([]),[x,p]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!0),[v,y]=(0,a.useState)(1),{isAdmin:j}=(0,n.useAuth)(),[w,N]=(0,a.useState)(""),[k,C]=(0,a.useState)("newest"),[S,z]=(0,a.useState)("all"),[A,P]=(0,a.useState)(null),[I,M]=(0,a.useState)(!1),E=async(e,r=!1)=>{if(!x){p(!0);try{let a="createdAt",t="desc";switch(k){case"price_asc":a="price",t="asc";break;case"price_desc":a="price",t="desc";break;case"name_asc":a="name",t="asc";break;default:a="createdAt",t="desc"}let s={page:e,limit:12,search:w,sortBy:a,order:t,categoryId:"all"!==S?S:void 0,showHidden:j?"true":void 0},i=(await d.productAPI.list(s)).data.products;r?l(i):l(e=>{let r=new Set(e.map(e=>String(e.id))),a=i.filter(e=>!r.has(String(e.id)));return[...e,...a]}),f(12===i.length)}catch(e){console.error("Error fetching products:",e)}finally{p(!1)}}},B=async()=>{try{let e=await d.categoryAPI.list();u(e.data.categories||[])}catch(e){console.error("Error fetching categories:",e)}};(0,a.useEffect)(()=>{B()},[]),(0,a.useEffect)(()=>{y(1),f(!0),E(1,!0)},[w,k,S,j]),(0,a.useEffect)(()=>{if(!h||x)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&y(e=>{let r=e+1;return E(r,!1),r})},{threshold:.5}),r=document.getElementById("product-sentinel");return r&&e.observe(r),()=>{r&&e.unobserve(r)}},[h,x]);let T=e=>{P(e),M(!0)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-[var(--background)] no-scrollbar",children:[(0,r.jsxs)("div",{className:"bg-[var(--surface)] pt-28 pb-16 px-4 sm:px-6 lg:px-8 text-center border-b border-[var(--border)] relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-[url('/pattern.png')] opacity-5"}),(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsx)("h1",{className:"text-5xl md:text-6xl font-serif font-bold tracking-tight text-[var(--foreground)] mb-6 animate-fade-in",children:"The Collection"}),(0,r.jsx)("p",{className:"max-w-2xl mx-auto text-xl text-gray-500 dark:text-gray-400 font-light leading-relaxed animate-slide-up",children:"Discover our handcrafted selection of premium candles and accessories, designed to elevate your space."}),j&&(0,r.jsx)("div",{className:"mt-10 animate-scale-in",children:(0,r.jsxs)(o.default,{href:"/admin/products/new",className:"inline-flex items-center gap-2 rounded-full bg-[var(--foreground)] px-8 py-3 text-[var(--background)] hover:bg-[var(--primary)] transition-all shadow-lg hover:shadow-glow",children:[(0,r.jsx)(s.Plus,{size:20}),"Add New Product"]})})]})]}),(0,r.jsx)(b,{searchQuery:w,setSearchQuery:N,sortBy:k,setSortBy:C,selectedCategory:S,setSelectedCategory:z,categories:c}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[0!==e.length||x?(0,r.jsx)("div",{className:"grid grid-cols-1 gap-y-12 gap-x-8 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map((e,a)=>(0,r.jsx)(m,{product:e,onClick:T,style:{animationDelay:`${50*a}ms`}},e.id))}):(0,r.jsxs)("div",{className:"text-center py-24 animate-fade-in",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-[var(--surface-alt)] mb-6 shadow-inner",children:(0,r.jsx)(i,{size:32,className:"text-gray-400"})}),(0,r.jsx)("h3",{className:"text-2xl font-serif font-medium text-[var(--foreground)]",children:"No products found"}),(0,r.jsx)("p",{className:"mt-3 text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:"Try adjusting your search or filters to find what you're looking for."}),(0,r.jsx)("button",{onClick:()=>{N(""),z("all")},className:"mt-8 text-[var(--primary)] hover:text-[var(--primary-dark)] font-medium hover:underline transition-all",children:"Clear all filters"})]}),(0,r.jsxs)("div",{id:"product-sentinel",className:"h-24 flex justify-center items-center mt-12",children:[x&&(0,r.jsx)(t.Loader2,{className:"h-10 w-10 animate-spin text-[var(--primary)]"}),!h&&e.length>0&&(0,r.jsx)("p",{className:"text-gray-400 dark:text-gray-500 font-light italic",children:"You've reached the end of the collection."})]})]}),(0,r.jsx)(g,{product:A,isOpen:I,onClose:()=>{M(!1),setTimeout(()=>P(null),300)}})]})})}e.s(["default",()=>y],19102)}]);